{% extends 'base.html' %}
{%load static%}

{% block title %}My Tasks{% endblock %}

{% block style %}
<link rel="stylesheet" href="{%static 'css/style.css'%}">
{% endblock %}

{% block content %}
<div class="header">
    <h1>âœ¨ My Todo List</h1>
    <p style="color: rgba(255,255,255,0.8);">Stay organized and productive</p>
</div>

<!-- Add your Django form here -->
<form method="post" action="{%url 'Tasks:addTask'%}" class="add-task-form">
    {% csrf_token %}
    <div class="form-group">
        <input type="text" name="title" class="form-input" placeholder="What needs to be done?" required>
        <input type="text" name="description" class="form-input" placeholder="Description (optional)">
        <button type="submit" class="btn btn-primary">Add Task</button>
    </div>
</form>

<!-- Filter Buttons -->
<div class="filter-buttons">
    <button class="filter-btn active">All</button>
    <button class="filter-btn">Active</button>
    <button class="filter-btn">Completed</button>
</div>

<!-- Task List -->
<div class="task-list">
    <!-- Example tasks - Replace with your Django template logic -->
     {% for work in task %}
     {%if work.completed == 'NO' %}

    <div class="task-item">
        <form action="{%url 'Tasks:taskComplete' id=work.id %}" method="POST" style="display: inline;">
            {%csrf_token%}
        <div class="task-checkbox">
            <input type="checkbox" onchange="this.form.submit()">
        </div>
    </form>
        <div class="task-content">
            <div class="task-title">{{work.NewTask}}</div>
            <div class="task-description">{{work.Description}}</div>
        </div>
        <div class="task-actions">
            <button class="btn-icon"><a href=""><span class="material-icons">edit</span></a></button>
            <button class="btn-icon"><a href="{%url 'Tasks:DeleteTask' id=work.id %}"><span class="material-icons">delete</span></a></button>
        </div>
    </div>
    {%else%}
    <div class="task-item task-completed">
        <div class="task-checkbox">
            <input type="checkbox" checked>
        </div>
        <div class="task-content">
            <div class="task-title">{{work.NewTask}}</div>
            <div class="task-description">{{work.Description}}</div>
        </div>
        <div class="task-actions">
            <button class="btn-icon"><span class="material-icons">edit</span></button>
            <form action="{%url 'Tasks:DeleteTask' id=work.id %}" method="POST">
                {%csrf_token%}
            <button class="btn-icon" type="submit"><span class="material-icons">delete</span></button>
        </form>
        </div>
    </div>
    {%endif%}
    {% endfor %}
    

    <!-- Empty State Example -->
    <!-- <div class="empty-state">
        <h3>No tasks yet</h3>
        <p>Add your first task to get started!</p>
    </div> -->
</div>
{% endblock %}